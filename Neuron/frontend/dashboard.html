<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEURON | Mission Control</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React 18 -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Excitement meter now uses pure CSS -->

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600&display=swap');

        :root {
            --glow-green: 0 0 20px rgba(34, 197, 94, 0.5), 0 0 40px rgba(34, 197, 94, 0.3);
            --glow-red: 0 0 20px rgba(239, 68, 68, 0.5), 0 0 40px rgba(239, 68, 68, 0.3);
            --glow-yellow: 0 0 20px rgba(234, 179, 8, 0.5), 0 0 40px rgba(234, 179, 8, 0.3);
            --glow-purple: 0 0 20px rgba(147, 51, 234, 0.5), 0 0 40px rgba(147, 51, 234, 0.3);
            --glow-orange: 0 0 20px rgba(249, 115, 22, 0.5), 0 0 40px rgba(249, 115, 22, 0.3);
            --glow-cyan: 0 0 20px rgba(6, 182, 212, 0.5), 0 0 40px rgba(6, 182, 212, 0.3);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%);
            min-height: 100vh;
        }

        .font-orbitron {
            font-family: 'Orbitron', monospace;
        }

        .glow-green {
            box-shadow: var(--glow-green);
            border-color: #22c55e;
        }

        .glow-red {
            box-shadow: var(--glow-red);
            border-color: #ef4444;
        }

        .glow-yellow {
            box-shadow: var(--glow-yellow);
            border-color: #eab308;
        }

        .glow-purple {
            box-shadow: var(--glow-purple);
            border-color: #9333ea;
        }

        .glow-orange {
            box-shadow: var(--glow-orange);
            border-color: #f97316;
        }

        .glow-cyan {
            box-shadow: var(--glow-cyan);
            border-color: #06b6d4;
        }

        .card-enter {
            animation: cardFadeIn 0.5s ease-out forwards;
        }

        @keyframes cardFadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes pulse-glow {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.7;
            }
        }

        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }

        .scanline {
            background: repeating-linear-gradient(0deg,
                    transparent,
                    transparent 2px,
                    rgba(0, 255, 255, 0.03) 2px,
                    rgba(0, 255, 255, 0.03) 4px);
            pointer-events: none;
        }

        .grid-bg {
            background-image:
                linear-gradient(rgba(6, 182, 212, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(6, 182, 212, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        .status-dot {
            animation: blink 1s ease-in-out infinite;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.3;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1e293b;
        }

        ::-webkit-scrollbar-thumb {
            background: #0ea5e9;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #38bdf8;
        }

        .btn-action {
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-action::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn-action:hover::before {
            left: 100%;
        }

        .btn-action:active {
            transform: scale(0.95);
        }
    </style>
</head>

<body class="bg-slate-900 text-slate-100 overflow-hidden">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ============ ICON COMPONENTS ============
        const Icon = ({ name, className = "w-5 h-5" }) => {
            const ref = useRef(null);
            useEffect(() => {
                if (ref.current) {
                    ref.current.innerHTML = '';
                    const icon = lucide.createElement(lucide.icons[name]);
                    ref.current.appendChild(icon);
                }
            }, [name]);
            return <span ref={ref} className={`inline-flex ${className}`}></span>;
        };

        // ============ MAIN APP COMPONENT ============
        function MissionControl() {
            const [messages, setMessages] = useState([]);
            const [audioEnabled, setAudioEnabled] = useState(false);
            const [connectionStatus, setConnectionStatus] = useState('connecting');
            const [stats, setStats] = useState({ events: 0, touchdowns: 0, turnovers: 0 });
            const [excitementHistory, setExcitementHistory] = useState([]);
            const [currentLocale, setCurrentLocale] = useState('en-US');
            const feedRef = useRef(null);

            // Locale configurations
            const LOCALES = {
                'en-US': { flag: 'üá∫üá∏', name: 'American', style: 'Stats-focused NFL' },
                'pt-BR': { flag: 'üáßüá∑', name: 'Brazilian', style: 'GOOOOL energy!' },
                'en-GB': { flag: 'üá¨üáß', name: 'British', style: 'Dry & sarcastic' },
                'es-MX': { flag: 'üá≤üáΩ', name: 'Mexican', style: 'Andr√©s Cantor' },
                'en-AU': { flag: 'üá¶üá∫', name: 'Aussie', style: 'G\'day mate!' },
                'ja-JP': { flag: 'üáØüáµ', name: 'Japanese', style: 'Anime energy!' }
            };

            // SSE Connection
            useEffect(() => {
                const eventSource = new EventSource('http://localhost:8000/stream');

                eventSource.onopen = () => {
                    setConnectionStatus('connected');
                    console.log('‚úÖ SSE Connected to Mission Control');
                };

                eventSource.addEventListener('debate', (event) => {
                    try {
                        const data = JSON.parse(event.data);
                        const excitementScore = data.excitement_score || data.confidence * 100 || 50;
                        const newMessage = {
                            id: Date.now(),
                            content: data.content || data.answer || data.message || JSON.stringify(data),
                            agent: data.agent_id || 'SYSTEM',
                            timestamp: new Date().toLocaleTimeString(),
                            confidence: data.confidence || 0,
                            excitement: excitementScore,
                            type: getEventType(data.content || data.answer || '')
                        };

                        setMessages(prev => [newMessage, ...prev].slice(0, 50));
                        updateStats(newMessage.type);

                        // Update excitement history for graph
                        setExcitementHistory(prev => [
                            ...prev.slice(-19),
                            { time: new Date().toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' }).slice(0, 5), score: excitementScore }
                        ]);

                        if (audioEnabled && newMessage.content) {
                            speak(newMessage.content);
                        }
                    } catch (e) {
                        console.error('Parse error:', e);
                    }
                });

                eventSource.addEventListener('keepalive', () => {
                    // Keep connection alive
                });

                eventSource.onerror = () => {
                    setConnectionStatus('disconnected');
                    console.log('‚ùå SSE Disconnected');
                };

                return () => eventSource.close();
            }, [audioEnabled]);

            const getEventType = (content) => {
                const upper = content.toUpperCase();
                if (upper.includes('TOUCHDOWN')) return 'touchdown';
                if (upper.includes('PENALTY')) return 'penalty';
                if (upper.includes('INTERCEPTION')) return 'interception';
                if (upper.includes('FUMBLE')) return 'fumble';
                return 'default';
            };

            const updateStats = (type) => {
                setStats(prev => ({
                    events: prev.events + 1,
                    touchdowns: type === 'touchdown' ? prev.touchdowns + 1 : prev.touchdowns,
                    turnovers: (type === 'interception' || type === 'fumble') ? prev.turnovers + 1 : prev.turnovers
                }));
            };

            // speak function moved below handleSimulate with persona support

            const handleSimulate = async (type, team, description) => {
                try {
                    const response = await fetch('http://localhost:8000/simulate_event', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ type })
                    });
                    const agents = await response.json();
                    console.log('üêù Swarm response:', agents);

                    // Process each agent in the swarm
                    if (Array.isArray(agents)) {
                        // Agent A (The Homer) - render immediately
                        const homer = agents[0];
                        if (homer) {
                            const homerMessage = {
                                id: Date.now(),
                                content: homer.content,
                                agent: homer.name || 'The Homer üî•',
                                agent_id: homer.agent_id,
                                persona: homer.persona,
                                alignment: 'left',
                                timestamp: new Date().toLocaleTimeString(),
                                excitement: homer.excitement_score,
                                type: homer.event_type?.toLowerCase() || 'default'
                            };
                            setMessages(prev => [homerMessage, ...prev].slice(0, 50));
                            updateStats(homerMessage.type);

                            // Update excitement history
                            setExcitementHistory(prev => [
                                ...prev.slice(-19),
                                { time: new Date().toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' }).slice(0, 5), score: homer.excitement_score, agent: 'homer' }
                            ]);

                            // Speak The Homer with fanatic voice
                            if (audioEnabled) {
                                speak(homer.content, homer.persona);
                            }
                        }

                        // Agent B (The Skeptic) - render after 1.5 seconds
                        const skeptic = agents[1];
                        if (skeptic) {
                            setTimeout(() => {
                                const skepticMessage = {
                                    id: Date.now() + 1,
                                    content: skeptic.content,
                                    agent: skeptic.name || 'The Skeptic üßê',
                                    agent_id: skeptic.agent_id,
                                    persona: skeptic.persona,
                                    alignment: 'right',
                                    timestamp: new Date().toLocaleTimeString(),
                                    excitement: skeptic.excitement_score,
                                    type: skeptic.event_type?.toLowerCase() || 'default'
                                };
                                setMessages(prev => [skepticMessage, ...prev].slice(0, 50));

                                // Update excitement history with skeptic score
                                setExcitementHistory(prev => [
                                    ...prev.slice(-19),
                                    { time: new Date().toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' }).slice(0, 5), score: skeptic.excitement_score, agent: 'skeptic' }
                                ]);

                                // Speak The Skeptic with analyst voice
                                if (audioEnabled) {
                                    speak(skeptic.content, skeptic.persona);
                                }
                            }, 1500);
                        }
                    }
                } catch (error) {
                    console.error('Failed to simulate:', error);
                }
            };

            // Audio queue to prevent overlapping
            let audioQueue = [];
            let isPlaying = false;

            const playNextInQueue = () => {
                if (audioQueue.length === 0) {
                    isPlaying = false;
                    return;
                }
                isPlaying = true;
                const { audioUrl, persona } = audioQueue.shift();
                const audio = new Audio(audioUrl);
                audio.onended = () => {
                    console.log('üé§ Finished ' + (persona || 'default') + ' voice');
                    playNextInQueue();
                };
                audio.onerror = () => playNextInQueue();
                audio.play();
                console.log('üé§ Playing ' + (persona || 'default') + ' voice');
            };

            // Updated speak function with persona support and queue
            const speak = async (text, persona = '') => {
                try {
                    const response = await fetch('http://localhost:8000/speak', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ text: text.substring(0, 500), persona })
                    });

                    if (response.ok) {
                        const blob = await response.blob();
                        const audioUrl = URL.createObjectURL(blob);
                        audioQueue.push({ audioUrl, persona });
                        if (!isPlaying) {
                            playNextInQueue();
                        }
                        return;
                    }
                } catch (e) {
                    console.log('‚ö†Ô∏è Cloud TTS unavailable, using browser fallback');
                }

                // Fallback to browser speechSynthesis (already queues automatically)
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.rate = persona === 'fanatic' ? 1.3 : 0.9;
                    utterance.pitch = persona === 'fanatic' ? 1.2 : 0.8;
                    window.speechSynthesis.speak(utterance);
                }
            };

            const getCardStyle = (type) => {
                switch (type) {
                    case 'touchdown': return 'glow-green border-green-500';
                    case 'penalty': return 'glow-red border-red-500';
                    case 'interception': return 'glow-yellow border-yellow-500';
                    case 'fumble': return 'glow-orange border-orange-500';
                    default: return 'glow-cyan border-cyan-500';
                }
            };

            return (
                <div className="h-screen flex flex-col">
                    {/* HEADER */}
                    <header className="bg-slate-950/80 backdrop-blur-sm border-b border-cyan-500/30 px-6 py-4">
                        <div className="flex justify-between items-center">
                            <div className="flex items-center gap-4">
                                <div className="w-12 h-12 bg-gradient-to-br from-cyan-500 to-purple-600 rounded-lg flex items-center justify-center">
                                    <span className="text-2xl">üß†</span>
                                </div>
                                <div>
                                    <h1 className="font-orbitron text-2xl font-bold bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent">
                                        NEURON MISSION CONTROL
                                    </h1>
                                    <p className="text-slate-400 text-sm">Real-Time Game Event Orchestration</p>
                                </div>
                            </div>

                            <div className="flex items-center gap-6">
                                {/* Connection Status */}
                                <div className="flex items-center gap-2 px-4 py-2 bg-slate-800 rounded-lg border border-slate-700">
                                    <div className={`w-3 h-3 rounded-full status-dot ${connectionStatus === 'connected' ? 'bg-green-500' :
                                        connectionStatus === 'connecting' ? 'bg-yellow-500' : 'bg-red-500'
                                        }`}></div>
                                    <span className="text-sm font-medium uppercase tracking-wide">
                                        {connectionStatus}
                                    </span>
                                </div>

                                {/* Stats */}
                                <div className="flex gap-4">
                                    <div className="text-center px-4 py-2 bg-slate-800 rounded-lg border border-slate-700">
                                        <div className="text-2xl font-orbitron text-cyan-400">{stats.events}</div>
                                        <div className="text-xs text-slate-400 uppercase">Events</div>
                                    </div>
                                    <div className="text-center px-4 py-2 bg-slate-800 rounded-lg border border-green-500/30">
                                        <div className="text-2xl font-orbitron text-green-400">{stats.touchdowns}</div>
                                        <div className="text-xs text-slate-400 uppercase">TDs</div>
                                    </div>
                                    <div className="text-center px-4 py-2 bg-slate-800 rounded-lg border border-yellow-500/30">
                                        <div className="text-2xl font-orbitron text-yellow-400">{stats.turnovers}</div>
                                        <div className="text-xs text-slate-400 uppercase">TOs</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* MAIN CONTENT */}
                    <main className="flex-1 grid grid-cols-3 gap-0 overflow-hidden">
                        {/* LEFT PANEL - LIVE FEED (2/3) */}
                        <div className="col-span-2 flex flex-col bg-slate-900/50 grid-bg">
                            <div className="px-6 py-4 border-b border-slate-700/50 bg-slate-900/80">
                                <h2 className="font-orbitron text-lg text-cyan-400 flex items-center gap-2">
                                    <span className="w-2 h-2 bg-cyan-400 rounded-full status-dot"></span>
                                    LIVE FEED
                                </h2>
                            </div>

                            {/* EXCITEMENT GRAPH */}
                            {excitementHistory.length > 0 && (
                                <div className="px-6 py-4 border-b border-slate-700/50 bg-slate-800/50">
                                    <div className="flex items-center justify-between mb-2">
                                        <h3 className="font-orbitron text-sm text-yellow-400 flex items-center gap-2">
                                            üìä EXCITEMENT METER
                                        </h3>
                                        <span className="text-2xl font-bold text-yellow-400">
                                            {excitementHistory.length > 0 ? excitementHistory[excitementHistory.length - 1].score : 0}
                                        </span>
                                    </div>
                                    {/* Simple CSS Excitement Bar */}
                                    <div className="w-full h-8 bg-slate-700 rounded-full overflow-hidden relative">
                                        <div
                                            className="h-full bg-gradient-to-r from-yellow-600 via-yellow-400 to-yellow-300 transition-all duration-500 ease-out rounded-full"
                                            style={{ width: `${excitementHistory.length > 0 ? excitementHistory[excitementHistory.length - 1].score : 0}%` }}
                                        ></div>
                                        <div className="absolute inset-0 flex items-center justify-center text-xs font-bold text-slate-900">
                                            {excitementHistory.length > 0 ? excitementHistory[excitementHistory.length - 1].score : 0}% HYPE
                                        </div>
                                    </div>
                                    {/* Mini bar history */}
                                    <div className="flex gap-1 mt-2 h-12 items-end">
                                        {excitementHistory.slice(-20).map((item, idx) => (
                                            <div
                                                key={idx}
                                                className="flex-1 bg-yellow-500/50 rounded-t transition-all duration-300"
                                                style={{ height: `${item.score}%` }}
                                                title={`${item.time}: ${item.score}`}
                                            ></div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            <div ref={feedRef} className="flex-1 overflow-y-auto p-6 space-y-4 relative">
                                <div className="absolute inset-0 scanline"></div>

                                {messages.length === 0 ? (
                                    <div className="flex flex-col items-center justify-center h-full text-slate-500">
                                        <div className="w-20 h-20 border-4 border-slate-700 border-t-cyan-500 rounded-full animate-spin mb-4"></div>
                                        <p className="font-orbitron">AWAITING TRANSMISSION...</p>
                                        <p className="text-sm mt-2">Use Operator Deck to trigger events</p>
                                    </div>
                                ) : (
                                    messages.map((msg) => (
                                        <div
                                            key={msg.id}
                                            className={`card-enter flex ${msg.alignment === 'right' ? 'justify-end' : 'justify-start'}`}
                                        >
                                            <div className={`max-w-[85%] ${msg.persona === 'fanatic'
                                                ? 'bg-gradient-to-br from-green-900/80 to-emerald-800/60 border-l-4 border-green-500'
                                                : msg.persona === 'analyst'
                                                    ? 'bg-gradient-to-bl from-blue-900/80 to-indigo-800/60 border-r-4 border-blue-500'
                                                    : `bg-slate-800/90 border-l-4 ${getCardStyle(msg.type)}`
                                                } backdrop-blur rounded-lg p-4`}>
                                                <div className="flex justify-between items-start mb-2 gap-4">
                                                    <div className="flex items-center gap-2">
                                                        <span className={`text-xs font-mono px-2 py-1 rounded ${msg.persona === 'fanatic'
                                                            ? 'bg-green-500/30 text-green-300'
                                                            : msg.persona === 'analyst'
                                                                ? 'bg-blue-500/30 text-blue-300'
                                                                : 'bg-slate-700 text-cyan-400'
                                                            }`}>
                                                            {msg.agent}
                                                        </span>
                                                        {msg.persona && (
                                                            <span className={`text-xs px-2 py-0.5 rounded-full font-bold uppercase ${msg.persona === 'fanatic'
                                                                ? 'bg-orange-500/30 text-orange-300'
                                                                : 'bg-purple-500/30 text-purple-300'
                                                                }`}>
                                                                {msg.persona === 'fanatic' ? 'üî• FANATIC' : 'üßê ANALYST'}
                                                            </span>
                                                        )}
                                                    </div>
                                                    <div className="flex items-center gap-3">
                                                        {msg.excitement && (
                                                            <span className={`text-xs font-bold px-2 py-1 rounded ${msg.excitement >= 80 ? 'bg-green-500/20 text-green-400' :
                                                                msg.excitement >= 60 ? 'bg-yellow-500/20 text-yellow-400' :
                                                                    msg.excitement >= 40 ? 'bg-orange-500/20 text-orange-400' :
                                                                        'bg-slate-600/20 text-slate-400'
                                                                }`}>
                                                                ‚ö° {msg.excitement}
                                                            </span>
                                                        )}
                                                        <span className="text-xs text-slate-500 font-mono">
                                                            {msg.timestamp}
                                                        </span>
                                                    </div>
                                                </div>
                                                <p className="text-slate-100 leading-relaxed">{msg.content}</p>
                                            </div>
                                        </div>
                                    ))
                                )}
                            </div>
                        </div>

                        {/* RIGHT PANEL - OPERATOR DECK (1/3) */}
                        <div className="bg-slate-950 border-l border-slate-700/50 flex flex-col h-full max-h-screen">
                            <div className="px-6 py-4 border-b border-slate-700/50 bg-gradient-to-r from-purple-900/30 to-slate-950 flex-shrink-0">
                                <h2 className="font-orbitron text-lg text-purple-400 flex items-center gap-2">
                                    <span className="text-xl">‚öôÔ∏è</span>
                                    OPERATOR DECK
                                </h2>
                            </div>

                            <div className="flex-1 p-6 space-y-6 overflow-y-auto min-h-0">
                                {/* AUDIO TOGGLE */}
                                <div className="bg-slate-800/50 rounded-xl p-4 border border-slate-700">
                                    <div className="flex items-center justify-between">
                                        <div className="flex items-center gap-3">
                                            <div className={`w-10 h-10 rounded-lg flex items-center justify-center ${audioEnabled ? 'bg-green-500/20 text-green-400' : 'bg-slate-700 text-slate-400'
                                                }`}>
                                                <span className="text-xl">{audioEnabled ? 'üîä' : 'üîá'}</span>
                                            </div>
                                            <div>
                                                <div className="font-medium">Text-to-Speech</div>
                                                <div className="text-xs text-slate-400">Announce events audibly</div>
                                            </div>
                                        </div>
                                        <button
                                            onClick={() => setAudioEnabled(!audioEnabled)}
                                            className={`relative w-14 h-8 rounded-full transition-colors ${audioEnabled ? 'bg-green-500' : 'bg-slate-600'
                                                }`}
                                        >
                                            <div className={`absolute top-1 w-6 h-6 bg-white rounded-full shadow transition-transform ${audioEnabled ? 'translate-x-7' : 'translate-x-1'
                                                }`}></div>
                                        </button>
                                    </div>
                                </div>

                                {/* LOCALE SELECTOR */}
                                <div>
                                    <h3 className="font-orbitron text-sm text-slate-400 mb-3 uppercase tracking-wider">
                                        üåç Commentary Style
                                    </h3>
                                    <div className="grid grid-cols-3 gap-2">
                                        {Object.entries(LOCALES).map(([code, locale]) => (
                                            <button
                                                key={code}
                                                onClick={() => setCurrentLocale(code)}
                                                className={`p-2 rounded-lg text-center transition-all ${currentLocale === code
                                                    ? 'bg-purple-600 border-2 border-purple-400 shadow-lg shadow-purple-500/30'
                                                    : 'bg-slate-800 border border-slate-700 hover:bg-slate-700'
                                                    }`}
                                            >
                                                <div className="text-xl">{locale.flag}</div>
                                                <div className="text-xs font-medium mt-1">{locale.name}</div>
                                            </button>
                                        ))}
                                    </div>
                                    <div className="mt-2 text-center text-xs text-purple-400">
                                        Current: {LOCALES[currentLocale].style}
                                    </div>
                                </div>

                                {/* ACTION GRID */}
                                <div>
                                    <h3 className="font-orbitron text-sm text-slate-400 mb-4 uppercase tracking-wider">
                                        Quick Actions
                                    </h3>
                                    <div className="grid grid-cols-2 gap-3">
                                        {/* TD Chiefs */}
                                        <button
                                            onClick={() => handleSimulate('TOUCHDOWN', 'Kansas City Chiefs', 'Mahomes finds Kelce for the score!')}
                                            className="btn-action bg-gradient-to-br from-green-600 to-green-800 hover:from-green-500 hover:to-green-700 text-white rounded-xl p-4 text-left border border-green-500/30"
                                        >
                                            <div className="text-2xl mb-2">üèà</div>
                                            <div className="font-bold">TD CHIEFS</div>
                                            <div className="text-xs opacity-80">Kansas City scores!</div>
                                        </button>

                                        {/* TD Ravens */}
                                        <button
                                            onClick={() => handleSimulate('TOUCHDOWN', 'Baltimore Ravens', 'Lamar Jackson rushes it in!')}
                                            className="btn-action bg-gradient-to-br from-purple-600 to-purple-800 hover:from-purple-500 hover:to-purple-700 text-white rounded-xl p-4 text-left border border-purple-500/30"
                                        >
                                            <div className="text-2xl mb-2">ü¶Ö</div>
                                            <div className="font-bold">TD RAVENS</div>
                                            <div className="text-xs opacity-80">Baltimore scores!</div>
                                        </button>

                                        {/* Penalty */}
                                        <button
                                            onClick={() => handleSimulate('PENALTY', 'Offense', 'False start, 5 yard penalty.')}
                                            className="btn-action bg-gradient-to-br from-red-600 to-red-800 hover:from-red-500 hover:to-red-700 text-white rounded-xl p-4 text-left border border-red-500/30"
                                        >
                                            <div className="text-2xl mb-2">üö©</div>
                                            <div className="font-bold">PENALTY</div>
                                            <div className="text-xs opacity-80">Flag on the play</div>
                                        </button>

                                        {/* Interception */}
                                        <button
                                            onClick={() => handleSimulate('INTERCEPTION', 'Defense', 'Ball picked off at the 40 yard line!')}
                                            className="btn-action bg-gradient-to-br from-yellow-600 to-yellow-800 hover:from-yellow-500 hover:to-yellow-700 text-white rounded-xl p-4 text-left border border-yellow-500/30"
                                        >
                                            <div className="text-2xl mb-2">üôå</div>
                                            <div className="font-bold">INT</div>
                                            <div className="text-xs opacity-80">Turnover!</div>
                                        </button>

                                        {/* Fumble */}
                                        <button
                                            onClick={() => handleSimulate('FUMBLE', 'Offense', 'The ball is loose! Defense recovers!')}
                                            className="btn-action bg-gradient-to-br from-orange-600 to-orange-800 hover:from-orange-500 hover:to-orange-700 text-white rounded-xl p-4 text-left border border-orange-500/30"
                                        >
                                            <div className="text-2xl mb-2">üí•</div>
                                            <div className="font-bold">FUMBLE</div>
                                            <div className="text-xs opacity-80">Ball on the ground!</div>
                                        </button>

                                        {/* Field Goal */}
                                        <button
                                            onClick={() => handleSimulate('FIELD_GOAL', 'Kicker', '45-yard field goal attempt is GOOD!')}
                                            className="btn-action bg-gradient-to-br from-cyan-600 to-cyan-800 hover:from-cyan-500 hover:to-cyan-700 text-white rounded-xl p-4 text-left border border-cyan-500/30"
                                        >
                                            <div className="text-2xl mb-2">üéØ</div>
                                            <div className="font-bold">FIELD GOAL</div>
                                            <div className="text-xs opacity-80">3 points!</div>
                                        </button>
                                    </div>
                                </div>

                                {/* SYSTEM INFO */}
                                <div className="mt-auto pt-6 border-t border-slate-700/50">
                                    <div className="text-xs text-slate-500 space-y-1 font-mono">
                                        <div className="flex justify-between">
                                            <span>API:</span>
                                            <span className="text-cyan-400">Cloud Run</span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span>SSE:</span>
                                            <span className="text-cyan-400">/api/stream</span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span>Kafka:</span>
                                            <span className="text-cyan-400">nfl-game-events</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>

                    {/* FOOTER */}
                    <footer className="bg-slate-950 border-t border-slate-700/50 px-6 py-2">
                        <div className="flex justify-between items-center text-xs text-slate-500">
                            <span>NEURON SYSTEMS v1.0.0</span>
                            <span className="font-mono">SESSION: {Date.now().toString(36).toUpperCase()}</span>
                            <span>üîí SECURE CHANNEL</span>
                        </div>
                    </footer>
                </div>
            );
        }

        // ============ RENDER APP ============
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<MissionControl />);
    </script>
</body>

</html>